<!DOCTYPE html>
<html lang="en">
<head>
        <title>RabbitMQ's Exchange-to-Exchange binding</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://haridas.in/theme/css/main.css" type="text/css" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://haridas.in/css/ie.css"/>
                <script src="http://haridas.in/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://haridas.in/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
<a href="http://github.com/haridas">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://haridas.in">haridas.in </a></h1>
                <nav><ul>
                    <li><a href="/archives.html">Archives</a></li>
                    <li><a href="http://haridas.in/pages/about-me.html">About Me</a></li>
                    <li class="active"><a href="http://haridas.in/category/blog.html">blog</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="rabbitmqs-exchange-to-exchange-binding.html" rel="bookmark"
           title="Permalink to RabbitMQ's Exchange-to-Exchange binding">RabbitMQ's Exchange-to-Exchange binding</a></h1>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="haridas_n">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-annotation="inline" data-width="300"></div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<!--
<a class="twitter-timeline" href="https://twitter.com/haridas_n" data-widget-id="243765098450132992">Tweets by @haridas_n</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
-->

    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-04-30T00:00:00">
                Wed 30 April 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://haridas.in/author/haridas.html">haridas</a>
        </address>
<p>In <a href="http://haridas.in/category/blog.html">blog</a>. </p>
<p>tags: <a href="http://haridas.in/tag/amqp.html">amqp</a><a href="http://haridas.in/tag/rabbitmq.html">rabbitmq</a></p></footer><!-- /.post-info -->      <p>I'm a long time user of RabbitMQ for different type of tasks
like chat system, worker queue, logging etc. But lately I was looking for an
option to track all messages passing through set of exchanges without
interfering those exchanges. The need for it's that I want to analyze the
messages passing in those exchanges. For that case Exchange-to-Queue binding
is not enough for me, Because on that case I have to create one queue for each
exchange available on the server.I want to avoid this. Then I came across this interesting
RabbitMQ extension feature ( It's not there in the AMQP standard yet) which allow
you to bind Exchange-to-Exchange.</p>
<p>So using this exchange-to-exchange binding I can create a dummy exchange and
bind it with those exchanges that I'm instead in. The routing keys used with
the queue binding is applicable while binding the exchanges together.
The messages are routed to the other binded exchanges by applying those routing
keys. And obviously I created a dummy queue to persist those messages coming on
the dummy exchange.</p>
<p>By this way my external monitoring and quality checking code only monitor the
dummy queue for the messages and it consumes and discard it from the queue. By
the way this setup is not for permanent use.</p>
<p>I'm using this method to do the following things.</p>
<ol class="arabic simple">
<li>To create more complex routing topologies for your application.</li>
<li>To do the integration testing of complex systems which has asynchronous work
flows.</li>
<li>We can use this for do some debugging operations of production system without
affecting the live machine. We can bind and start tap the messages at any
time from the live system. After use we can remove those bindings.</li>
</ol>
<p>Here is the simple diagram showing the exchange-to-exchange binding. The orange
lines showing the exchange-to-exchange binding.</p>
<img alt="Exchange-to-Exchange-Binding" class="align-left" src="images/Exchange-to-Exchange-Binding.png" style="width: 768px; height: 500px;" />
<p>Thank you.</p>

    </div><!-- /.entry-content -->
    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_identifier = "rabbitmqs-exchange-to-exchange-binding.html";
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://haridas.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
    </div>

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://docs.notmyidea.org/alexis/pelican/">Pelican</a></li>
                            <li><a href="http://python.org">Python.org</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://haridas.in/" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="http://twitter.com/haridas_n">twitter</a></li>
                            <li><a href="http://github.com/haridas">github</a></li>
                            <li><a href="http://in.linkedin.com/pub/haridas-n/19/95/825">linkedin</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-23592173-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
<script type="text/javascript">
    var disqus_shortname = 'haridas';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>
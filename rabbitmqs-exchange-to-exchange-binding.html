<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Haridas N, ">

        <link rel="alternate"  href="http://haridas.in/feeds/all.atom.xml" type="application/atom+xml" title="Haridas N Full Atom Feed"/>

        <title>RabbitMQ's Exchange-to-Exchange binding // Haridas N // </title>

    <!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css"> -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://haridas.in/theme/css/pure.css">

    <link rel="stylesheet" href="http://haridas.in/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
    <div class="pure-g-r" id="layout">
        <div class="sidebar pure-u">
            <div class="cover-img" style="background-image: url('/images/Photz057.jpg')">
                <div class="cover-body">
                    <header class="header">
                        <hgroup>
                            <img class="avatar" src="/images/profile_pic.jpg">
                            <h1 class="brand-main"><a href="/">Haridas N</a></h1>
                            <p class="tagline"></p>
                                <p class="links"><a href="http://haridas.in/archives.html">Archives</a></p>
                                <p class="links"><a href="http://haridas.in/pages/about-me.html">About</a></p>
                                <p class="social">
                                    <a href="http://twitter.com/haridas_n">
                                        <i class="fa fa-twitter-square fa-3x"></i>
                                    </a>
                                    <a href="http://github.com/haridas">
                                        <i class="fa fa-github-square fa-3x"></i>
                                    </a>
                                    <a href="http://in.linkedin.com/pub/haridas-n/19/95/825">
                                        <i class="fa fa-linkedin-square fa-3x"></i>
                                    </a>
                                <p>
                        </hgroup>
                    </header>
                </div>
            </div>
        </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>RabbitMQ's Exchange-to-Exchange binding</h1>

                    <p class="post-meta">
                            <a class="post-category" href="http://haridas.in/tag/amqp.html">amqp</a>
                            <a class="post-category" href="http://haridas.in/tag/rabbitmq.html">rabbitmq</a>
                    </p>

                    <p class="post-meta">
                        Wed 30 April 2014
                    </p>

                    <p class="post-meta">
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="haridas_n">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
 &middot;  <!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-annotation="bubble" data-size="medium"></div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
                    </p>

                </header>
            </section>
            <p>I'm a long time user of RabbitMQ for different type of tasks
like chat system, worker queue, logging etc. But lately I was looking for an
option to track all messages passing through set of exchanges without
interfering those exchanges. The need for it's that I want to analyze the
messages passing in those exchanges. For that case Exchange-to-Queue binding
is not enough for me, Because on that case I have to create one queue for each
exchange available on the server.I want to avoid this. Then I came across this interesting
RabbitMQ extension feature ( It's not there in the AMQP standard yet) which allow
you to bind Exchange-to-Exchange.</p>
<p>So using this exchange-to-exchange binding I can create a dummy exchange and
bind it with those exchanges that I'm instead in. The routing keys used with
the queue binding is applicable while binding the exchanges together.
The messages are routed to the other binded exchanges by applying those routing
keys. And obviously I created a dummy queue to persist those messages coming on
the dummy exchange.</p>
<p>By this way my external monitoring and quality checking code only monitor the
dummy queue for the messages and it consumes and discard it from the queue. By
the way this setup is not for permanent use.</p>
<p>I'm using this method to do the following things.</p>
<ol class="arabic simple">
<li>To create more complex routing topologies for your application.</li>
<li>To do the integration testing of complex systems which has asynchronous work
flows.</li>
<li>We can use this for do some debugging operations of production system without
affecting the live machine. We can bind and start tap the messages at any
time from the live system. After use we can remove those bindings.</li>
</ol>
<p>Here is the simple diagram showing the exchange-to-exchange binding. The orange
lines showing the exchange-to-exchange binding.</p>
<img alt="Exchange-to-Exchange-Binding" class="align-left" src="/images/Exchange-to-Exchange-Binding.png" style="width: 768px; height: 500px;" />
<p>Thank you.</p>

            <a href="#" class="go-top">Go Top</a>
    <div class="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = "haridas"; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
<footer class="footer">
    <p>&copy; Haridas N &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure-single">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
    </div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
            var pageTracker = _gat._getTracker("UA-23592173-1");
            pageTracker._trackPageview();
            } catch(err) {}
    </script>

</body>
</html>